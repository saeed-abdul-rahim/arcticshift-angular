<div class="mt-20"></div>
<app-tab [labels]="['Category', 'Collection', 'Product']" [templates]="[categoryTab, collectionTab, productTab]">
</app-tab>

<!-- MODAL -->

<app-modal [(showModal)]="showModal" [loading]="modalLoading" [success]="modalSuccess" [heading]="'Assign Attribute'"
    [size]="'medium'" [bodyTemplate]="allCatalogTable" (modalCallback)="modalCallback()"></app-modal>

<!-- TABS -->

<ng-template #categoryTab>
    <app-card [heading]="'Categories'" [actions]="assignCategory" [body]="catalogTable"></app-card>
</ng-template>

<ng-template #collectionTab>
    <app-card [heading]="'Collections'" [actions]="assignCollection" [body]="catalogTable"></app-card>
</ng-template>

<ng-template #productTab>
    <app-card [heading]="'Products'" [actions]="assignProduct" [body]="catalogTable"></app-card>
</ng-template>

<!-- BUTTON TEMPLATES -->

<ng-template #assignCategory>
    <label class="arc-link-button" type="button">
        <a (click)="toggleShowModal('category')">Assign Category</a>
    </label>
</ng-template>

<ng-template #assignCollection>
    <label class="arc-link-button" type="button">
        <a (click)="toggleShowModal('collection')">Assign Collection</a>
    </label>
</ng-template>

<ng-template #assignProduct>
    <label class="arc-link-button" type="button">
        <a (click)="toggleShowModal('product')">Assign Product</a>
    </label>
</ng-template>

<!-- TABLE TEMPLATES -->

<ng-template #catalogTable>

</ng-template>

<ng-template #allCatalogTable>
    <app-spinner class="flex justify-center pt-10" *ngIf="allCatalogLoading" [size]="'5'"></app-spinner>
    <div class="w-full" *ngIf="!allCatalogLoading">
        <div *ngIf="filteredCatalog.length === 0" class="data-empty">No data available</div>
        <div *ngIf="filteredCatalog.length > 0" class="overflow-x-auto scrollbar">
            <input class="arc-input sticky-input w-full" (keyup)="applyFilter($event)" placeholder="Search"
                #input>
            <table mat-table [dataSource]="allCatalog">

                <ng-container matColumnDef="select">
                    <th mat-header-cell *matHeaderCellDef></th>
                    <td mat-cell *matCellDef="let row">
                        <input type="checkbox" class="form-checkbox h-5 w-5 text-blue-400"
                            (change)="assignCheckbox($event, row.id)">
                    </td>
                </ng-container>

                <ng-container matColumnDef="name">
                    <th mat-header-cell *matHeaderCellDef>Attribute Name</th>
                    <td mat-cell *matCellDef="let row">{{row.name}}</td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="allCatalogColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: allCatalogColumns;"></tr>

            </table>
        </div>
    </div>
</ng-template>